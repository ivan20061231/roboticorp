---
const proyectos = [
  {
    titulo: "Robot Seguidor de Línea",
    descripcion: "Proyecto educativo desarrollado para competencias estudiantiles.",
    imagen: "/proyecto1.png",
    categoria: "Robótica Educativa"
  },
  {
    titulo: "Aula de Robótica Institucional",
    descripcion: "Implementación completa de laboratorio tecnológico escolar.",
    imagen: "/proyecto2.jpg",
    categoria: "Infraestructura"
  },
  {
    titulo: "DataGround",
    descripcion: "Prototipo electrónico aplicado a la agricultura.",
    imagen: "/proyecto3.jpg",
    categoria: "Robotica Aplicada"
  }
];
---

<section id="proyectos" class="py-16 bg-white">
  <div class="max-w-6xl mx-auto px-6">

    <!-- Título -->
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold mb-3">Proyectos Recientes</h2>
      <p class="text-sm text-gray-600">
        Innovación y tecnología aplicada en educación e industria.
      </p>
    </div>

    <!-- Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">

      {proyectos.map((proyecto) => (
        <div class="fade-card group bg-gray-50 rounded-xl overflow-hidden shadow-sm 
                    transition-all duration-300 hover:shadow-xl hover:-translate-y-2">

          <!-- Imagen con zoom -->
          <div class="overflow-hidden">
            <img 
              src={proyecto.imagen} 
              class="h-44 w-full object-cover transition-transform duration-500 group-hover:scale-110" 
            />
          </div>

          <div class="p-5">

            <!-- Categoría -->
            <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full">
              {proyecto.categoria}
            </span>

            <h3 class="font-semibold text-base mt-4 mb-2">
              {proyecto.titulo}
            </h3>

            <p class="text-sm text-gray-600">
              {proyecto.descripcion}
            </p>

           

          </div>

        </div>
      ))}

    </div>

    <!-- CTA general -->
    <div class="text-center mt-14">
      <a 
        href="/?servicio=proyectos#contacto"
        class="inline-block bg-blue-600 text-white px-8 py-3 rounded-md text-sm font-medium
               transition-all duration-300 hover:bg-blue-700 hover:-translate-y-1 hover:shadow-lg"
      >
        Solicitar proyecto similar →
      </a>
    </div>

  </div>
</section>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const cards = document.querySelectorAll('.fade-card');

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry, index) => {
        if (entry.isIntersecting) {
          setTimeout(() => {
            entry.target.classList.add('show');
          }, index * 150);
        }
      });
    }, { threshold: 0.2 });

    cards.forEach(card => observer.observe(card));
  });
</script>
